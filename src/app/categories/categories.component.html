<div class="px-4 py-5 my-5 text-center">
  <div class="col-lg-12 d-flex justify-content-evenly mb-3">
    <h4 class="fw-bold">Category Master</h4>
    <button
      type="button"
      class="btn btn-primary"
      data-bs-toggle="modal"
      data-bs-target="#CategoryModal"
      (click)="addCategory()"
    >
      Add Category
    </button>
  </div>

  <div class="col-lg-6 mx-auto">
    <table class="table table-dark table-striped">
      <thead>
        <tr>
          <th scope="col">Sr.no</th>
          <th scope="col">Category ID</th>
          <th scope="col">Category Name</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let category of categories; let i = index">
          <th scope="row">{{ i + 1 }}</th>
          <th scope="row">{{ category.category_id }}</th>
          <td>{{ category.category_name }}</td>
          <td>
            <button
              type="button"
              class="btn btn-warning me-2"
              data-bs-toggle="modal"
              data-bs-target="#CategoryModal"
              (click)="edit(category)"
            >
              Edit
            </button>
            <button
              class="btn btn-danger"
              (click)="deleteCategory(category.category_id)"
            >
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!--  Category Modal -->
<div
  class="modal fade"
  id="CategoryModal"
  tabindex="-1"
  aria-labelledby="CategoryModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="CategoryModalLabel">
          {{ isedit ? "Edit Category" : "Add Category" }}
        </h5>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        <form
          [formGroup]="categoryForm"
          (ngSubmit)="
            isedit ? updateCategory(categoryForm) : createCategory(categoryForm)
          "
        >
          <div class="form-group">
            <input
              class="form-control"
              placeholder="Category Name"
              id="category_name"
              formControlName="category_name"
              required
            />
          </div>
          <button
            type="button"
            class="btn btn-secondary mt-2 me-2"
            data-bs-dismiss="modal"
          >
            Close
          </button>
          <button
            type="submit"
            class="btn btn-primary mt-2"
            data-bs-dismiss="modal"
          >
            {{ isedit ? "Update" : "Add" }}
          </button>
        </form>
      </div>
    </div>
  </div>
</div>
